
/**
 * Maps language names to their most representative country flag emoji.
 * Extend this as needed for new languages.
 */
export function languageToFlag(language: string): string {
  console.log("ğŸ³ï¸ languageToFlag called with:", language);
  
  const mapping: Record<string, string> = {
    English: "ğŸ‡¬ğŸ‡§",
    "English (South Africa)": "ğŸ‡¿ğŸ‡¦",
    "South Africa": "ğŸ‡¿ğŸ‡¦",
    Spanish: "ğŸ‡ªğŸ‡¸",
    "Colombian Spanish": "ğŸ‡¨ğŸ‡´",
    "Mexican Spanish": "ğŸ‡²ğŸ‡½",
    "Argentinian Spanish": "ğŸ‡¦ğŸ‡·",
    "Spanish (Colombia)": "ğŸ‡¨ğŸ‡´",
    "Spanish (Mexico)": "ğŸ‡²ğŸ‡½",
    "Spanish (Argentina)": "ğŸ‡¦ğŸ‡·",
    French: "ğŸ‡«ğŸ‡·",
    "French (Canada)": "ğŸ‡¨ğŸ‡¦",
    "Canadian French": "ğŸ‡¨ğŸ‡¦",
    German: "ğŸ‡©ğŸ‡ª",
    "German (Austria)": "ğŸ‡¦ğŸ‡¹",
    "German (Switzerland)": "ğŸ‡¨ğŸ‡­",
    Italian: "ğŸ‡®ğŸ‡¹",
    Dutch: "ğŸ‡³ğŸ‡±",
    "Dutch (Belgium)": "ğŸ‡§ğŸ‡ª",
    Portuguese: "ğŸ‡µğŸ‡¹",
    "Portuguese (Brazil)": "ğŸ‡§ğŸ‡·",
    "Brazilian Portuguese": "ğŸ‡§ğŸ‡·",
    Russian: "ğŸ‡·ğŸ‡º",
    Japanese: "ğŸ‡¯ğŸ‡µ",
    Chinese: "ğŸ‡¨ğŸ‡³",
    "Chinese (Simplified)": "ğŸ‡¨ğŸ‡³",
    "Chinese (Traditional)": "ğŸ‡¹ğŸ‡¼",
    "Mandarin": "ğŸ‡¨ğŸ‡³",
    Korean: "ğŸ‡°ğŸ‡·",
    Arabic: "ğŸ‡ªğŸ‡¬",
    "Arabic (Saudi Arabia)": "ğŸ‡¸ğŸ‡¦",
    "Arabic (UAE)": "ğŸ‡¦ğŸ‡ª",
    Hindi: "ğŸ‡®ğŸ‡³",
    Polish: "ğŸ‡µğŸ‡±",
    Turkish: "ğŸ‡¹ğŸ‡·",
    Ukrainian: "ğŸ‡ºğŸ‡¦",
    Swedish: "ğŸ‡¸ğŸ‡ª",
    Norwegian: "ğŸ‡³ğŸ‡´",
    Danish: "ğŸ‡©ğŸ‡°",
    Finnish: "ğŸ‡«ğŸ‡®",
    Czech: "ğŸ‡¨ğŸ‡¿",
    Greek: "ğŸ‡¬ğŸ‡·",
    Hungarian: "ğŸ‡­ğŸ‡º",
    Romanian: "ğŸ‡·ğŸ‡´",
    Slovak: "ğŸ‡¸ğŸ‡°",
    Bulgarian: "ğŸ‡§ğŸ‡¬",
    Croatian: "ğŸ‡­ğŸ‡·",
    Serbian: "ğŸ‡·ğŸ‡¸",
    Catalan: "ğŸ‡ªğŸ‡¸",
    Indonesian: "ğŸ‡®ğŸ‡©",
    Malay: "ğŸ‡²ğŸ‡¾",
    Thai: "ğŸ‡¹ğŸ‡­",
    Vietnamese: "ğŸ‡»ğŸ‡³",
    Afrikaans: "ğŸ‡¿ğŸ‡¦",
    Farsi: "ğŸ‡®ğŸ‡·",
    Persian: "ğŸ‡®ğŸ‡·",
    Mali: "ğŸ‡²ğŸ‡±",
    Bambara: "ğŸ‡²ğŸ‡±",
    Irish: "ğŸ‡®ğŸ‡ª",
    Gaeilge: "ğŸ‡®ğŸ‡ª",
    Scottish: "ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿",
    "Scottish Gaelic": "ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿",
    Hebrew: "ğŸ‡®ğŸ‡±",
    // Island countries
    "Tagalog": "ğŸ‡µğŸ‡­",
    "Filipino": "ğŸ‡µğŸ‡­",
    "Cebuano": "ğŸ‡µğŸ‡­",
    "English (Philippines)": "ğŸ‡µğŸ‡­",
    "Sinhala": "ğŸ‡±ğŸ‡°",
    "Tamil (Sri Lanka)": "ğŸ‡±ğŸ‡°",
    "English (Sri Lanka)": "ğŸ‡±ğŸ‡°",
    "Icelandic": "ğŸ‡®ğŸ‡¸",
    "Maltese": "ğŸ‡²ğŸ‡¹",
    "English (Malta)": "ğŸ‡²ğŸ‡¹",
    "MÄori": "ğŸ‡³ğŸ‡¿",
    "English (New Zealand)": "ğŸ‡³ğŸ‡¿",
    "Samoan": "ğŸ‡¼ğŸ‡¸",
    "Fijian": "ğŸ‡«ğŸ‡¯",
    "English (Fiji)": "ğŸ‡«ğŸ‡¯",
    "Hindi (Fiji)": "ğŸ‡«ğŸ‡¯",
    "Tongan": "ğŸ‡¹ğŸ‡´",
    "English (Tonga)": "ğŸ‡¹ğŸ‡´",
    "Chamorro": "ğŸ‡¬ğŸ‡º",
    "English (Guam)": "ğŸ‡¬ğŸ‡º",
    "Marshallese": "ğŸ‡²ğŸ‡­",
    "English (Marshall Islands)": "ğŸ‡²ğŸ‡­",
    "Palauan": "ğŸ‡µğŸ‡¼",
    "English (Palau)": "ğŸ‡µğŸ‡¼",
    "Nauruan": "ğŸ‡³ğŸ‡·",
    "English (Nauru)": "ğŸ‡³ğŸ‡·",
    "Tuvaluan": "ğŸ‡¹ğŸ‡»",
    "English (Tuvalu)": "ğŸ‡¹ğŸ‡»",
    "Kirghiz": "ğŸ‡°ğŸ‡®",
    "English (Kiribati)": "ğŸ‡°ğŸ‡®",
    "Vanuatuan": "ğŸ‡»ğŸ‡º",
    "Bislama": "ğŸ‡»ğŸ‡º",
    "English (Vanuatu)": "ğŸ‡»ğŸ‡º",
    "French (Vanuatu)": "ğŸ‡»ğŸ‡º",
    "Solomon Islands Pidgin": "ğŸ‡¸ğŸ‡§",
    "English (Solomon Islands)": "ğŸ‡¸ğŸ‡§",
    "Papua New Guinea": "ğŸ‡µğŸ‡¬",
    "English (Papua New Guinea)": "ğŸ‡µğŸ‡¬",
    "Tok Pisin": "ğŸ‡µğŸ‡¬",
    "English (Jamaica)": "ğŸ‡¯ğŸ‡²",
    "Jamaican Patois": "ğŸ‡¯ğŸ‡²",
    "English (Barbados)": "ğŸ‡§ğŸ‡§",
    "English (Trinidad and Tobago)": "ğŸ‡¹ğŸ‡¹",
    "English (Bahamas)": "ğŸ‡§ğŸ‡¸",
    "Haitian Creole": "ğŸ‡­ğŸ‡¹",
    "French (Haiti)": "ğŸ‡­ğŸ‡¹",
    "English (Dominican Republic)": "ğŸ‡©ğŸ‡´",
    "Spanish (Dominican Republic)": "ğŸ‡©ğŸ‡´",
    "English (Cuba)": "ğŸ‡¨ğŸ‡º",
    "Spanish (Cuba)": "ğŸ‡¨ğŸ‡º",
    "Corsican": "ğŸ‡«ğŸ‡·",
    "French (Corsica)": "ğŸ‡«ğŸ‡·",
    "Sardinian": "ğŸ‡®ğŸ‡¹",
    "Italian (Sardinia)": "ğŸ‡®ğŸ‡¹",
    "Sicilian": "ğŸ‡®ğŸ‡¹",
    "Italian (Sicily)": "ğŸ‡®ğŸ‡¹",
    "Faroese": "ğŸ‡«ğŸ‡´",
    "Danish (Faroe Islands)": "ğŸ‡«ğŸ‡´",
    "Greenlandic": "ğŸ‡¬ğŸ‡±",
    "Danish (Greenland)": "ğŸ‡¬ğŸ‡±",
    "English (Bermuda)": "ğŸ‡§ğŸ‡²",
    "English (Cayman Islands)": "ğŸ‡°ğŸ‡¾",
    "English (British Virgin Islands)": "ğŸ‡»ğŸ‡¬",
    "English (US Virgin Islands)": "ğŸ‡»ğŸ‡®",
    "English (Puerto Rico)": "ğŸ‡µğŸ‡·",
    "Spanish (Puerto Rico)": "ğŸ‡µğŸ‡·",
    "English (Aruba)": "ğŸ‡¦ğŸ‡¼",
    "Dutch (Aruba)": "ğŸ‡¦ğŸ‡¼",
    "Papiamento": "ğŸ‡¦ğŸ‡¼",
    "English (CuraÃ§ao)": "ğŸ‡¨ğŸ‡¼",
    "Dutch (CuraÃ§ao)": "ğŸ‡¨ğŸ‡¼",
    "French (Martinique)": "ğŸ‡²ğŸ‡¶",
    "French (Guadeloupe)": "ğŸ‡¬ğŸ‡µ",
    "French (RÃ©union)": "ğŸ‡·ğŸ‡ª",
    "French (Mayotte)": "ğŸ‡¾ğŸ‡¹",
    "English (Seychelles)": "ğŸ‡¸ğŸ‡¨",
    "French (Seychelles)": "ğŸ‡¸ğŸ‡¨",
    "Seychellois Creole": "ğŸ‡¸ğŸ‡¨",
    "English (Mauritius)": "ğŸ‡²ğŸ‡º",
    "French (Mauritius)": "ğŸ‡²ğŸ‡º",
    "Mauritian Creole": "ğŸ‡²ğŸ‡º",
    "English (Maldives)": "ğŸ‡²ğŸ‡»",
    "Dhivehi": "ğŸ‡²ğŸ‡»",
    "Maldivian": "ğŸ‡²ğŸ‡»",
    // add more or tune as needed
  };
  
  // Handle case-insensitive lookup
  const normalizedLanguage = language.charAt(0).toUpperCase() + language.slice(1).toLowerCase();
  const flag = mapping[normalizedLanguage] || mapping[language] || "ğŸŒ";
  console.log("ğŸ³ï¸ languageToFlag result:", language, "â†’", normalizedLanguage, "â†’", flag);
  return flag;
}
